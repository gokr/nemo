#!/usr/bin/env ntalk
#
# Boolean.nt - True and false classes with control flow
#

#====================================================================
# True class - represents boolean true value
#====================================================================

True := Object derive: #().

True>>ifTrue: block [
  # Evaluate the block and return its value.
  ^ block value
].

True>>ifFalse: block [
  # Return nil - don't evaluate the block.
  ^ nil
].

True>>ifTrue: trueBlock ifFalse: falseBlock [
  # Evaluate trueBlock and return its value.
  ^ trueBlock value
].

True>>and: block [
  # Evaluate block and return its value.
  ^ block value
].

True>>or: block [
  # Return true - short circuit.
  ^ true
].

True>>not [
  # Return false.
  ^ false
].

True>>= other [
  # Check if other is true.
  ^ other == true
].

#====================================================================
# False class - represents boolean false value
#====================================================================

False := Object derive: #().

False>>ifTrue: block [
  # Return nil - don't evaluate the block.
  ^ nil
].

False>>ifFalse: block [
  # Evaluate the block and return its value.
  ^ block value
].

False>>ifTrue: trueBlock ifFalse: falseBlock [
  # Evaluate falseBlock and return its value.
  ^ falseBlock value
].

False>>and: block [
  # Return false - short circuit.
  ^ false
].

False>>or: block [
  # Evaluate block and return its value.
  ^ block value
].

False>>not [
  # Return true.
  ^ true
].

False>>= other [
  # Check if other is false.
  ^ other == false
].

#====================================================================
# Create singleton instances
# Note: The interpreter provides the primitive true/false objects
# This file defines their behavior through the True/False classes
#====================================================================

# The interpreter creates the primitive true/false singletons
# They inherit behavior from True/False classes via the class system
